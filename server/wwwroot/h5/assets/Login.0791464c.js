import{d as F,g as h,F as y,B as g,C as b,h as w,i as s,w as n,p as C,j as x,o as k,u as a,k as l,l as _}from"./vendor.871c335e.js";import{s as r}from"./index.e984ddd3.js";import"./http.eceb79a4.js";import{u as V}from"./index.0d991bc5.js";import{_ as j,r as m}from"./index.68a1c8b4.js";const d=o=>(C("data-v-2d4b4ac2"),o=o(),x(),o),I={class:"py-5"},S=d(()=>l("h1",{class:"text-center py-2"},"\u7528\u6237\u767B\u9646",-1)),D=d(()=>l("div",{class:"py-4"},null,-1)),N=_("\u767B\u5F55"),E=d(()=>l("div",{class:"py-4"},null,-1)),L=_("\u6CE8\u518C"),T=F({setup(o){const e=h({username:"",password:""});async function f(){if(!e.username)return r({type:"fail",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"});if(!e.password)return r({type:"fail",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"});var p=await V.login(e);r({type:"success",message:"\u767B\u5F55\u6210\u529F\uFF01"}),localStorage.setItem("token",p.token),m.push("/")}function v(){m.push("/signup")}return(p,u)=>{const c=y,i=g,B=b;return k(),w("div",I,[S,s(B,{inset:""},{default:n(()=>[s(c,{modelValue:a(e).username,"onUpdate:modelValue":u[0]||(u[0]=t=>a(e).username=t),name:"username",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"]),s(c,{modelValue:a(e).password,"onUpdate:modelValue":u[1]||(u[1]=t=>a(e).password=t),name:"password",label:"\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"},null,8,["modelValue"]),D,s(i,{type:"primary",block:"",onClick:f},{default:n(()=>[N]),_:1}),E,s(i,{block:"",onClick:v},{default:n(()=>[L]),_:1})]),_:1})])}}});var H=j(T,[["__scopeId","data-v-2d4b4ac2"]]);export{H as default};
