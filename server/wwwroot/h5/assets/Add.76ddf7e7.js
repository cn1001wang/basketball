import{d as E,g as D,m as k,K as C,N as I,F as x,Z as A,C as U,A as S,h as j,i as o,k as N,w as g,t as _,o as $,u as l}from"./vendor.871c335e.js";/* empty css              */import{s as d}from"./index.e984ddd3.js";/* empty css               */import{r as c}from"./index.68a1c8b4.js";import{h as s}from"./http.eceb79a4.js";const p={async get(){return await s.get("/rest/players")},async getById(n){return await s.get(`/rest/players/getById/${n}`)},async save(n){return await s.post("/rest/players",n)},async remove(n){return await s.delete(`/rest/players/${n}`)},async update(n,i){return await s.put(`/rest/players/${n}`,i)}};const G={class:"main-bg pt-4"},Z=E({props:{teamId:String,playerId:String},setup(n){const i=n;let e=D({teamId:i.teamId,name:"",logo:"",caption:!1,number:"",height:"",weight:"",position:"",age:"",remarks:""});const m=k(!1),F=[{name:"\u65E0",value:""},{name:"\u5F97\u5206\u540E\u536B",value:"SG"},{name:"\u63A7\u7403\u540E\u536B",value:"PG"},{name:"\u5C0F\u524D\u950B",value:"SF"},{name:"\u5927\u524D\u950B",value:"PF"},{name:"\u4E2D\u950B",value:"C"}],y=C(()=>{let t=F.find(u=>u.value===e.position);return t==null?void 0:t.name});function B(t){e.position=t.value}(async function(){if(i.playerId){var t=await p.getById(i.playerId);e.teamId=i.teamId,e.name=t.name,e.logo=t.logo,e.caption=t.caption,e.number=t.number,e.height=t.height,e.weight=t.weight,e.position=t.position,e.age=t.age,e.remarks=t.remarks}})();function v(){c.back()}async function f(){if(!e.name)return d({type:"fail",message:"\u8BF7\u8F93\u5165\u961F\u5458\u540D\u5B57"});if(!e.number)return d({type:"fail",message:"\u8BF7\u8F93\u5165\u961F\u5458\u540D\u53F7\u7801"});i.playerId?await p.update(i.playerId,e):await p.save(e),d({type:"success",message:"\u521B\u5EFA\u6210\u529F\uFF01"}),c.back()}return(t,u)=>{const V=I,r=x,b=A,w=U,h=S;return $(),j(_,null,[o(V,{title:i.playerId?"\u7F16\u8F91\u7403\u5458":"\u65B0\u589E\u7403\u5458","left-text":"\u8FD4\u56DE","right-text":"\u5B58\u50A8","left-arrow":"",onClickLeft:v,onClickRight:f},null,8,["title"]),N("div",G,[o(w,{inset:""},{default:g(()=>[o(r,{modelValue:l(e).name,"onUpdate:modelValue":u[0]||(u[0]=a=>l(e).name=a),name:"playerName",label:"\u540D\u5B57",placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue"]),o(r,{modelValue:l(e).number,"onUpdate:modelValue":u[1]||(u[1]=a=>l(e).number=a),name:"playerNumber",label:"\u53F7\u7801",placeholder:"\u8BF7\u8F93\u5165\u53F7\u7801",type:"number"},null,8,["modelValue"]),o(r,{modelValue:l(e).logo,"onUpdate:modelValue":u[2]||(u[2]=a=>l(e).logo=a),name:"playerLogo",label:"\u5934\u50CF",placeholder:"\u8BF7\u8F93\u5165\u5934\u50CF"},null,8,["modelValue"]),o(r,{modelValue:l(e).height,"onUpdate:modelValue":u[3]||(u[3]=a=>l(e).height=a),name:"height",label:"\u8EAB\u9AD8",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u9AD8"},null,8,["modelValue"]),o(r,{modelValue:l(e).weight,"onUpdate:modelValue":u[4]||(u[4]=a=>l(e).weight=a),name:"weight",label:"\u4F53\u91CD",placeholder:"\u8BF7\u8F93\u5165\u4F53\u91CD"},null,8,["modelValue"]),o(r,{name:"caption",label:"\u662F\u5426\u961F\u957F"},{input:g(()=>[o(b,{modelValue:l(e).caption,"onUpdate:modelValue":u[5]||(u[5]=a=>l(e).caption=a)},null,8,["modelValue"])]),_:1}),o(r,{name:"position",label:"\u4E60\u60EF\u4F4D\u7F6E","model-value":l(y),"is-link":"",readonly:"",placeholder:"\u8BF7\u9009\u62E9\u4F4D\u7F6E",onClick:u[6]||(u[6]=a=>m.value=!0)},null,8,["model-value"]),o(r,{modelValue:l(e).age,"onUpdate:modelValue":u[7]||(u[7]=a=>l(e).age=a),name:"playerAge",label:"\u5E74\u9F84",placeholder:"\u8BF7\u8F93\u5165\u5E74\u9F84"},null,8,["modelValue"]),o(r,{modelValue:l(e).remarks,"onUpdate:modelValue":u[8]||(u[8]=a=>l(e).remarks=a),label:"\u5907\u6CE8",placeholder:"\u8BF7\u586B\u5199",type:"textarea",rows:"3",autosize:""},null,8,["modelValue"])]),_:1})]),o(h,{show:m.value,"onUpdate:show":u[9]||(u[9]=a=>m.value=a),actions:F,"cancel-text":"\u53D6\u6D88","close-on-click-action":"",onSelect:B},null,8,["show"])],64)}}});export{Z as default};
