import{d as F,g as h,F as y,B as g,C as w,h as C,i as s,w as n,p as b,j as x,o as k,u as t,k as l,l as _,s as r}from"./vendor.eba449fb.js";/* empty css              */import"./http.a6f869e0.js";import{u as V}from"./index.e8e0374c.js";import{_ as j,r as m}from"./index.3bdf07ec.js";const p=o=>(b("data-v-59d55563"),o=o(),x(),o),I={class:"py-5"},S=p(()=>l("h1",{class:"text-center py-2"},"\u7528\u6237\u767B\u9646",-1)),D=p(()=>l("div",{class:"py-4"},null,-1)),N=_("\u767B\u5F55"),E=p(()=>l("div",{class:"py-4"},null,-1)),L=_("\u6CE8\u518C"),T=F({setup(o){const e=h({username:"",password:""});async function f(){if(!e.username)return r({type:"fail",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"});if(!e.password)return r({type:"fail",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"});var d=await V.login(e);r({type:"success",message:"\u767B\u5F55\u6210\u529F\uFF01"}),localStorage.setItem("token",d.token),m.push("/")}function v(){m.push("/signup")}return(d,u)=>{const c=y,i=g,B=w;return k(),C("div",I,[S,s(B,{inset:""},{default:n(()=>[s(c,{modelValue:t(e).username,"onUpdate:modelValue":u[0]||(u[0]=a=>t(e).username=a),name:"username",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"]),s(c,{modelValue:t(e).password,"onUpdate:modelValue":u[1]||(u[1]=a=>t(e).password=a),name:"password",label:"\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"},null,8,["modelValue"]),D,s(i,{type:"primary",block:"",onClick:f},{default:n(()=>[N]),_:1}),E,s(i,{block:"",onClick:v},{default:n(()=>[L]),_:1})]),_:1})])}}});var H=j(T,[["__scopeId","data-v-59d55563"]]);export{H as default};
