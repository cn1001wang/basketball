import{N as P,aq as w,ar as E,h as o,i as h,k as e,w as g,D as l,v as T,H as B,G as S,p as q,j as x,o as c,c as b,l as y}from"./vendor.eba449fb.js";/* empty css               */import{_ as N,r as k}from"./index.3bdf07ec.js";import{a as R,g as v}from"./gameEventType.4f082351.js";import"./http.a6f869e0.js";import{g as I}from"./index.c5a787b1.js";const F={props:{id:String},data(){return{game:null,gameTimes:[]}},computed:{quarterNumber(){return this.game.rule.quarterNumber},totalRowSpan(){return 24/(2+this.quarterNumber)}},created(){this.loadGame(),this.loadGameTimes()},methods:{async loadGameTimes(){let a=await R.getTimesByGameId(this.id);this.gameTimes=a},getTimeFilter(a){return Math.ceil(a/60)+"' "+a%60},getGameTimeByP(a){let s=this.game.rule.timeOfEach*60,u=this.gameTimes.filter(t=>t.player===a),d=null,n=0;for(let t=0;t<u.length;t++){let i=u[t];if(i.upOrDown===1)d={quarter:i.quarter,time:i.time};else{if(!d)continue;if(i.quarter===d.quarter)n+=Number(i.time)-Number(d.time);else{let m=i.quarter-d.quarter-1;m>0&&(n+=m*s),n+=s-Number(d.time),n+=Number(i.time)}d=null}}if(d!=null){let i=this.game.rule.quarterNumber-d.quarter;i>0&&(n+=i*s),n+=s-Number(d.time),d=null}return n},getEventsByPlayer(a){return this.game.events.filter(s=>s.player===a)},getScoreByPlayer(a){return this.getScore(this.getEventsByPlayer(a))},getEventByPT(a,...s){return this.getEventsByPlayer(a).filter(u=>s.includes(u.type)).length},getEventByTT(a,...s){return this.getEventsByTeam(a).filter(u=>s.includes(u.type)).length},getFoulByPlayer(a){return this.getEventsByPlayer(a).filter(s=>[v.\u72AF\u89C4,v.\u6280\u672F\u72AF\u89C4,v.\u8FDD\u4F53\u72AF\u89C4].includes(s.type)&&s.quarter===this.game.section).length},getPointByPlayer(a,s){let u=this.getEventByPT(a,s+"points"),d=this.getEventByPT(a,"loss"+s+"points");return u+"/"+(u+d)},getPointByTeam(a,s){let u=this.getEventByTT(a,s+"points"),d=this.getEventByTT(a,"loss"+s+"points");return u+"/"+(u+d)},getScore(a){return a.filter(s=>s.type===v.\u7F5A\u7403).length+a.filter(s=>s.type===v.\u4E24\u5206).length*2+a.filter(s=>s.type===v.\u4E09\u5206).length*3},getEventsByTeam(a){return this.game.events.filter(s=>s.teamId===a.id._id)},getScoreByIndex(a,s){return this.getScore(this.getEventsByTeam(s).filter(u=>u.quarter===a))},getScoreByTeamId(a){return this.getScore(this.getEventsByTeam(a))},async loadGame(){let a=await I.getById(this.id);this.game=a},onClickLeft(){k.back()}}},_=a=>(q("data-v-4d4b5cda"),a=a(),x(),a),G={class:"main-body"},j={key:0,class:"result-body"},C={class:"result-card"},L=_(()=>e("div",{class:"text-title"},"\u8D5B\u51B5",-1)),V=y("\u7403\u961F"),D=y("\u603B\u5206"),O=_(()=>e("div",{class:"divider-row"},null,-1)),z=_(()=>e("div",{class:"sizebox-15"},null,-1)),A={class:"result-card"},H={class:"text-title"},M={class:"table-wrap"},J={class:"qgg-table",style:{width:"680px"}},K=_(()=>e("thead",null,[e("tr",null,[e("th",{width:"120"},"\u7403\u5458"),e("th",{width:"80"},"\u5F97\u5206"),e("th",{width:"80"},"\u7F5A\u7403"),e("th",{width:"80"},"\u4E24\u5206"),e("th",{width:"80"},"\u4E09\u5206"),e("th",{width:"80"},"\u7BEE\u677F"),e("th",{width:"80"},"\u52A9\u653B"),e("th",{width:"80"},"\u62A2\u65AD"),e("th",{width:"80"},"\u76D6\u5E3D"),e("th",{width:"80"},"\u72AF\u89C4"),e("th",{width:"120"},"\u4E0A\u573A\u65F6\u95F4")])],-1)),Q=_(()=>e("td",null,"\u5408\u8BA1",-1)),U=_(()=>e("td",null,null,-1)),W=_(()=>e("div",{class:"sizebox-15"},null,-1)),X={class:"result-card"},Y={class:"text-title"},Z={class:"table-wrap"},p={class:"qgg-table",style:{width:"680px"}},$=_(()=>e("thead",null,[e("tr",null,[e("th",{width:"120"},"\u7403\u5458"),e("th",{width:"80"},"\u5F97\u5206"),e("th",{width:"80"},"\u7F5A\u7403"),e("th",{width:"80"},"\u4E24\u5206"),e("th",{width:"80"},"\u4E09\u5206"),e("th",{width:"80"},"\u7BEE\u677F"),e("th",{width:"80"},"\u52A9\u653B"),e("th",{width:"80"},"\u62A2\u65AD"),e("th",{width:"80"},"\u76D6\u5E3D"),e("th",{width:"80"},"\u72AF\u89C4"),e("th",{width:"120"},"\u4E0A\u573A\u65F6\u95F4")])],-1)),ee=_(()=>e("td",null,"\u5408\u8BA1",-1)),te=_(()=>e("td",null,null,-1));function le(a,s,u,d,n,t){const i=P,m=w,f=E;return c(),o("div",G,[h(i,{title:"\u6280\u672F\u7EDF\u8BA1","left-text":"\u5B8C\u6210",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),n.game?(c(),o("div",j,[e("div",C,[L,e("div",null,[h(f,{class:"text-grey-1"},{default:g(()=>[h(m,{span:t.totalRowSpan},{default:g(()=>[V]),_:1},8,["span"]),h(m,{span:t.totalRowSpan},{default:g(()=>[D]),_:1},8,["span"]),(c(!0),o(T,null,B(t.quarterNumber,r=>(c(),b(m,{span:t.totalRowSpan,key:r},{default:g(()=>[y("\u7B2C"+l(r)+"\u8282",1)]),_:2},1032,["span"]))),128))]),_:1}),O,h(f,null,{default:g(()=>[h(m,{span:"4"},{default:g(()=>[y(l(n.game.teama.id.name),1)]),_:1}),h(m,{span:"4"},{default:g(()=>[y(l(t.getScoreByTeamId(n.game.teama)),1)]),_:1}),(c(!0),o(T,null,B(t.quarterNumber,r=>(c(),b(m,{span:t.totalRowSpan,key:r},{default:g(()=>[y(l(t.getScoreByIndex(r,n.game.teama)),1)]),_:2},1032,["span"]))),128))]),_:1}),h(f,null,{default:g(()=>[h(m,{span:"4"},{default:g(()=>[y(l(n.game.teamb.id.name),1)]),_:1}),h(m,{span:"4"},{default:g(()=>[y(l(t.getScoreByTeamId(n.game.teamb)),1)]),_:1}),(c(!0),o(T,null,B(t.quarterNumber,r=>(c(),b(m,{span:t.totalRowSpan,key:r},{default:g(()=>[y(l(t.getScoreByIndex(r,n.game.teamb)),1)]),_:2},1032,["span"]))),128))]),_:1})])]),z,e("div",A,[e("div",H,l(n.game.teamb.id.name),1),e("div",M,[e("table",J,[K,e("tbody",null,[(c(!0),o(T,null,B(n.game.teama.activePlayers,r=>(c(),o("tr",{key:r._id},[e("td",null,l(r.name),1),e("td",null,l(t.getScoreByPlayer(r._id)),1),e("td",null,l(t.getPointByPlayer(r._id,"1")),1),e("td",null,l(t.getPointByPlayer(r._id,"2")),1),e("td",null,l(t.getPointByPlayer(r._id,"3")),1),e("td",null,l(t.getEventByPT(r._id,"offensiveRebounds","defensiveRebounds")),1),e("td",null,l(t.getEventByPT(r._id,"assist")),1),e("td",null,l(t.getEventByPT(r._id,"steal")),1),e("td",null,l(t.getEventByPT(r._id,"blockShot")),1),e("td",null,l(t.getEventByPT(r._id,"foul","technicalFoul","flagrantFoul")),1),e("td",null,l(t.getTimeFilter(t.getGameTimeByP(r._id))),1)]))),128)),e("tr",null,[Q,e("td",null,l(t.getScoreByTeamId(n.game.teama)),1),e("td",null,l(t.getPointByTeam(n.game.teama,"1")),1),e("td",null,l(t.getPointByTeam(n.game.teama,"2")),1),e("td",null,l(t.getPointByTeam(n.game.teama,"3")),1),e("td",null,l(t.getEventByTT(n.game.teama,"offensiveRebounds","defensiveRebounds")),1),e("td",null,l(t.getEventByTT(n.game.teama,"assist")),1),e("td",null,l(t.getEventByTT(n.game.teama,"steal")),1),e("td",null,l(t.getEventByTT(n.game.teama,"blockShot")),1),e("td",null,l(t.getEventByTT(n.game.teama,"foul","technicalFoul","flagrantFoul")),1),U])])])])]),W,e("div",X,[e("div",Y,l(n.game.teamb.id.name),1),e("div",Z,[e("table",p,[$,e("tbody",null,[(c(!0),o(T,null,B(n.game.teamb.activePlayers,r=>(c(),o("tr",{key:r._id},[e("td",null,l(r.name),1),e("td",null,l(t.getScoreByPlayer(r._id)),1),e("td",null,l(t.getPointByPlayer(r._id,"1")),1),e("td",null,l(t.getPointByPlayer(r._id,"2")),1),e("td",null,l(t.getPointByPlayer(r._id,"3")),1),e("td",null,l(t.getEventByPT(r._id,"offensiveRebounds","defensiveRebounds")),1),e("td",null,l(t.getEventByPT(r._id,"assist")),1),e("td",null,l(t.getEventByPT(r._id,"steal")),1),e("td",null,l(t.getEventByPT(r._id,"blockShot")),1),e("td",null,l(t.getEventByPT(r._id,"foul","technicalFoul","flagrantFoul")),1),e("td",null,l(t.getTimeFilter(t.getGameTimeByP(r._id))),1)]))),128)),e("tr",null,[ee,e("td",null,l(t.getScoreByTeamId(n.game.teamb)),1),e("td",null,l(t.getPointByTeam(n.game.teamb,"1")),1),e("td",null,l(t.getPointByTeam(n.game.teamb,"2")),1),e("td",null,l(t.getPointByTeam(n.game.teamb,"3")),1),e("td",null,l(t.getEventByTT(n.game.teamb,"offensiveRebounds","defensiveRebounds")),1),e("td",null,l(t.getEventByTT(n.game.teamb,"assist")),1),e("td",null,l(t.getEventByTT(n.game.teamb,"steal")),1),e("td",null,l(t.getEventByTT(n.game.teamb,"blockShot")),1),e("td",null,l(t.getEventByTT(n.game.teamb,"foul","technicalFoul","flagrantFoul")),1),te])])])])])])):S("",!0)])}var ie=N(F,[["render",le],["__scopeId","data-v-4d4b5cda"]]);export{ie as default};
